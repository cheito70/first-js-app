let pokemonRepository=function(){let e=[];function a(){return e}function b(a){e.push(a)}function c(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.other["official-artwork"].front_default,a.id=b.id,a.feet=b.height,a.weight=b.weight;let c=[];b.types.forEach(a=>c.push(a.type.name)),a.types=c}).catch(function(a){console.error(a)})}function d(a){c(a).then(function(){f(a)})}function f(a){let b=document.querySelector("#poke-modal-body"),c=document.querySelector("#poke-modal-title");c.innerHTML="",b.innerHTML="";let f=document.createElement("h1");f.innerText=a.name;let g=document.createElement("h2");g.innerText="#"+a.id.toString().padStart(3,0);let d=document.createElement("img");d.src=a.imageUrl,d.classList.add("pokemon-sprite");let e=document.createElement("p");e.innerText="Type: "+a.types.join(", "),e.classList.add("pokemon-type");let h=document.createElement("p");h.innerText="Height: "+a.feet+"' ";let i=document.createElement("p");i.innerText="Weight: "+a.weight.toFixed(1)+" lbs",c.appendChild(f),c.appendChild(g),b.appendChild(d),b.appendChild(e),b.appendChild(h),b.appendChild(i)}return document.getElementById("poke-search").addEventListener("input",function(){let a=document.getElementById("poke-search").value;a=a.toLowerCase(),$("li").each(function(){let b=$(this);b.text().includes(a)?b.show():b.hide()})}),{add:b,getAll:a,addListItem:function(c){let e=document.querySelector(".list-group"),b=document.createElement("li"),a=document.createElement("button");a.innerText=c.name,a.classList.add("btn","btn-custom"),b.classList.add("list-group-item"),a.setAttribute("data-target","#poke-modal"),a.setAttribute("data-toggle","modal"),b.appendChild(a),e.appendChild(b),function(a,b){a.addEventListener("click",function(){d(b)})}(a,c)},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=1154").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){let c={name:a.name,detailsUrl:a.url};b(c),console.log(c)})}).catch(function(a){console.error(a)})},loadDetails:c,showDetails:d}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})
